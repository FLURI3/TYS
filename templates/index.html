<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yandex Music ‚Üí Spotify Transfer</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéµ Yandex Music ‚Üí Spotify</h1>
            <p class="subtitle">–ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç ¬´–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è¬ª –∏–∑ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏ –≤ Spotify</p>
        </header>

        <main>
            <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–ø–µ—Ö–µ -->
            <div id="message" class="message hidden"></div>

            <!-- –®–∞–≥ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Spotify -->
            <div class="step" id="step-spotify">
                <h2>–®–∞–≥ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Spotify</h2>
                <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Spotify. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ –≤ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ.</p>
                <button id="spotify-auth-btn" class="btn btn-primary" onclick="authorizeSpotify()">
                    –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Spotify
                </button>
                <div id="spotify-status" class="status hidden"></div>
            </div>

            <!-- –®–∞–≥ 2: –¢–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å -->
            <div class="step" id="step-yandex">
                <h2>–®–∞–≥ 2: –¢–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏</h2>
                <p>–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ DevTools.</p>
                <div class="input-group">
                    <input 
                        type="text" 
                        id="yandex-token" 
                        placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏ –∑–¥–µ—Å—å..."
                        class="input-token"
                    >
                    <small class="hint">
                        <strong>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:</strong><br>
                        1. –û—Ç–∫—Ä–æ–π—Ç–µ <a href="https://music.yandex.ru" target="_blank">music.yandex.ru</a><br>
                        2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network<br>
                        3. –ù–∞–π–¥–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –∫ api.music.yandex.net<br>
                        4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ "Authorization: OAuth ..." (–±–µ–∑ —Å–ª–æ–≤–∞ "OAuth")
                    </small>
                </div>
            </div>

            <!-- –®–∞–≥ 3: –ü–µ—Ä–µ–Ω–æ—Å -->
            <div class="step" id="step-transfer">
                <h2>–®–∞–≥ 3: –ü–µ—Ä–µ–Ω–æ—Å –ø–ª–µ–π–ª–∏—Å—Ç–∞</h2>
                <p>–ö–æ–≥–¥–∞ –≤—ã –≥–æ—Ç–æ–≤—ã, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞.</p>
                <button id="transfer-btn" class="btn btn-success" onclick="transferPlaylist()">
                    –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–ª–µ–π–ª–∏—Å—Ç
                </button>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
            <div id="progress-container" class="progress-container hidden">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <p id="progress-text" class="progress-text">–û–±—Ä–∞–±–æ—Ç–∫–∞...</p>
            </div>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div id="results" class="results hidden">
                <div class="result-success">
                    <h3>‚úÖ –ü–µ—Ä–µ–Ω–æ—Å –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ!</h3>
                    <p>–í–∞—à –ø–ª–µ–π–ª–∏—Å—Ç —Å–æ–∑–¥–∞–Ω –≤ Spotify:</p>
                    <a id="playlist-link" href="#" target="_blank" class="btn btn-link">–û—Ç–∫—Ä—ã—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç –≤ Spotify</a>
                    
                    <div class="stats">
                        <p><strong>–í—Å–µ–≥–æ —Ç—Ä–µ–∫–æ–≤:</strong> <span id="total-tracks">0</span></p>
                        <p><strong>–ù–∞–π–¥–µ–Ω–æ –≤ Spotify:</strong> <span id="found-tracks">0</span></p>
                        <p><strong>–ù–µ –Ω–∞–π–¥–µ–Ω–æ:</strong> <span id="not-found-count">0</span></p>
                    </div>
                </div>

                <div id="not-found-tracks" class="not-found-tracks hidden">
                    <h4>–¢—Ä–µ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –≤ Spotify:</h4>
                    <ul id="not-found-list"></ul>
                </div>
            </div>
        </main>

        <footer>
            <p>‚ö†Ô∏è –í—Å–µ —Ç–æ–∫–µ–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</p>
            <p>üîí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</p>
        </footer>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>

